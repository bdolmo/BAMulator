<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>BAMulator — Fast variant simulation on BAMs</title>
  <meta name="description" content="BAMulator simulates variants directly on existing BAM files. Docs, quickstart, and usage.">
  <meta property="og:title" content="BAMulator — Fast variant simulation on BAMs">
  <meta property="og:description" content="Simulate variants directly on existing BAM files.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://opengraph.githubassets.com/1/bamulator/bamulator">
  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <!-- Highlight.js (for code blocks) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github.min.css">
  <!-- Google Font -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root { --bs-primary: #10b981; --bs-primary-rgb: 16,185,129; --bs-success: #10b981; --bs-link-color: #059669; --bs-link-hover-color: #047857; --brand-50:#ecfdf5; --brand-100:#d1fae5; --brand-200:#a7f3d0; --brand-300:#6ee7b7; --brand-400:#34d399; --brand-500:#10b981; --brand-600:#059669; --brand-700:#047857; --surface-0:#ffffff; --surface-1:#f7fbf9; --line:#e6f1ea; }
    body {
      font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background:
        radial-gradient(1000px 500px at 110% -10%, rgba(16,185,129,0.12), transparent 60%),
        radial-gradient(700px 400px at -10% 0%, rgba(16,185,129,0.08), transparent 60%),
        linear-gradient(180deg, var(--surface-0), var(--surface-1));
      color: #212529;
      background-attachment: fixed;
    }
    .navbar-brand span { font-weight: 700; letter-spacing: .2px; }
    .hero { background:
        radial-gradient(1200px 600px at 110% -10%, rgba(16,185,129,0.12), transparent 60%),
        radial-gradient(900px 500px at -10% -20%, rgba(16,185,129,0.12), transparent 60%),
        linear-gradient(180deg, #f3fbf7, #edf8f1); border-bottom: 1px solid var(--line); }
    .hero.bg-light { background:
        radial-gradient(1200px 600px at 110% -10%, rgba(16,185,129,0.12), transparent 60%),
        radial-gradient(900px 500px at -10% -20%, rgba(16,185,129,0.12), transparent 60%),
        linear-gradient(180deg, #f3fbf7, #edf8f1) !important; }
    .hero .badge { background: #ecfdf5; color: #047857; }
    .hero h1 { font-size: clamp(1.75rem, 3.2vw, 2.5rem); font-weight: 700; line-height: 1.15; }
    .hero p.lead { color: #495057; }
    .section-card { background: #fff; border: 1px solid var(--line); border-radius: 12px; box-shadow: 0 8px 24px rgba(16,185,129,.06), 0 1px 2px rgba(0,0,0,.04); }
    .terminal {
      border: 1px solid rgb(221, 219, 217);
      background-color: rgb(255, 255, 253);
      padding: 5px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }
    .terminal pre {
      font-size:11px;
      background-color: rgb(227, 228, 218);
    }
    pre { font-size:15px;background: linear-gradient(180deg,#f7fbf9,#f3faf6); border: 1px solid var(--line); border-radius: 10px; }
    code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
    .copy-btn { position: absolute; right: .75rem; top: .75rem; z-index: 2; }
    .code-wrap {
      position: relative;
     }
    .anchor-offset {
      scroll-margin-top: 70px;
     }
    .toc { position: sticky; top: 24px; max-height: calc(100vh - 48px); overflow: auto; padding-top: 1rem; padding-bottom: 1rem; }
    .toc a { color: #495057; text-decoration: none; }
    .toc a:hover { color: #059669; }
    .feature-badge { background: #ecfdf5; border: 1px solid #d1fae5; color: #065f46; }
    .limit-item { background: #fff; border: 1px dashed #e03131; }
    footer { color: #6c757d; }
    .kbd { background: #f1f3f5; border: 1px solid #e9ecef; padding: .15rem .45rem; border-radius: .4rem; font-size: .85em; }
    #badges img { background: #fff; border: 1px solid #e9ecef; border-radius: 6px; }
  #badges a { line-height: 0; }
  h2 { font-size: 1.5rem; }
  h5 { font-size: 1.05rem; letter-spacing: .1px; }
    /* Variant icon styles */
  .variant-card figure { margin: 0; }
  .variant-icon { width: 100%; max-width: 240px; height: 130px; }
  .variant-track { stroke-width: 6; stroke-linecap: square; fill: none; }
  .variant-ref { stroke: #94a3b8; }
  .variant-alt { stroke: var(--brand-600); }
  .variant-accent { stroke: var(--brand-600); fill: var(--brand-100); }
  .variant-neutral { fill: #fff; stroke: #94a3b8; }
  .variant-label { font-size: 10px; fill: var(--brand-700); font-weight: 600; }
  .variant-legend { font-size: 10px; fill: #64748b; font-weight: 600; }

  .segment-track {
        stroke-width: 4;
        stroke-linecap: round;
        stroke: #6c757d;
        /* fill: grey; */ /* Ignored for <line>, can be omitted */
      }
  .segment-track-hap1 {
    stroke:#059669
  }
  .segment-track-hap2 {
    stroke: #94a3b8;
  }
</style>
</head>
<body>
  <!-- NAVBAR -->
  <nav class="navbar navbar-light bg-white border-bottom navbar-expand-lg">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center gap-2" href="#top">
        <i class="bi bi-boxes"></i>
        <span>BAMulator</span>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav" aria-controls="nav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="nav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="#install">Install</a></li>
          <li class="nav-item"><a class="nav-link" href="#usage">Usage</a></li>
          <li class="nav-item"><a class="nav-link" href="#feautres">Features</a></li>

        </ul>
      </div>
    </div>
  </nav>

  <header class="hero bg-light py-3" id="top">
    <div class="container py-4">
      <div class="row align-items-center g-4">
        <div class="col-lg-10">
          <span class="badge rounded-pill mb-3">Fast BAM variant simulation</span>
          <h1 class="mb-3">BAMulator </h1>

          <h2 class="lead mb-4">Easy and fast simulation of SNVs, Indels, CNVs and SVs into real sequencing data.</h2>
            <div class="d-flex gap-2 flex-wrap">
            <a href="#usage" class="btn btn-primary btn-lg"><i class="bi bi-play-fill me-2"></i>Quick start</a>
          </div>

          <div class="mt-3 d-flex flex-wrap align-items-center gap-2" id="badges" data-repo="YOURUSER/YOURREPO" data-docs-url="">
              <a class="text-decoration-none" id="star-link" aria-label="Star on GitHub" target="_blank" rel="noopener">
                <img id="star-badge" alt="GitHub stars" height="20" loading="lazy">
              </a>
              <a class="text-decoration-none" id="downloads-link" aria-label="Downloads" target="_blank" rel="noopener">
                <img id="downloads-badge" alt="GitHub downloads" height="20" loading="lazy">
              </a>
              <a class="text-decoration-none" id="docs-link" aria-label="Documentation">
                <img id="docs-badge" alt="Docs" height="20" loading="lazy">
              </a>
            </div>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="row g-4">
      <aside class="col-lg-2 d-none d-lg-block">
        <div class="toc">
          <div class="fw-semibold text-uppercase small mb-2">On this page</div>
          <ul class="list-unstyled lh-lg">
            <li><a href="#features">Features</a></li>
            <li><a href="#install">Install</a></li>
            <li><a href="#usage">Usage</a></li>
          </ul>
        </div>
      </aside>

      <section class="col-lg-10">
        <!-- Install -->


        <section id="features" class="anchor-offset mb-5">
            <h2 class="mb-3"><i class="bi bi-stars me-2"></i>Features</h2>
            <div class="d-flex flex-wrap gap-2">
              <span class="badge feature-badge">SNVs</span>
              <span class="badge feature-badge">Indels</span>
              <span class="badge feature-badge">Structural Variants</span>
              <span class="badge feature-badge">Allele specific CNVs</span>
              <span class="badge feature-badge">Exome/gene panels</span>
              <span class="badge feature-badge">WGS</span>

          <div class="section-card p-0 p-md-0">

            <div class="row g-4">
              <!-- SNV -->
              <div class="col-12 col-sm-6 col-lg-4 variant-card">
                <div class="p-1 border rounded-3 h-100">
                  <figure class="text-center">
                    <svg class="variant-icon" viewBox="0 0 240 130" role="img" aria-labelledby="snvTitle snvDesc">
                      <title id="snvTitle">SNV</title>
                      <desc id="snvDesc">Single-nucleotide change</desc>
                      <text x="18" y="44" class="variant-legend">REF</text>
                      <text x="18" y="94" class="variant-legend">ALT</text>
                      <line x1="40" y1="40" x2="220" y2="40" class="variant-track variant-ref"/>
                      <rect x="110" y="30" width="20" height="20" rx="3" class="variant-neutral"/>
                      <text x="120" y="40" text-anchor="middle" dominant-baseline="middle" class="variant-label">A</text>
                      <line x1="40" y1="90" x2="220" y2="90" class="variant-track variant-alt"/>
                      <rect x="110" y="80" width="20" height="20" rx="3" class="variant-accent"/>
                      <text x="120" y="90" text-anchor="middle" dominant-baseline="middle" class="variant-label">T</text>
                    </svg>
                    <figcaption class="fw-semibold">SNV </figcaption>
                  </figure>
                </div>
              </div>
                            <!-- cxInDels (complex insertion + deletion at same locus) -->
              <div class="col-12 col-sm-6 col-lg-4 variant-card">
                <div class="p-1 border rounded-3 h-100">
                  <figure class="text-center">
                    <svg class="variant-icon" viewBox="0 0 240 130" role="img" aria-labelledby="cxindelTitle cxindelDesc">
                      <title id="cxindelTitle">Complex InDels (cxInDels)</title>
                      <desc id="cxindelDesc">Deletion in REF; smaller insertion in ALT at same locus</desc>
                      <text x="18" y="44" class="variant-legend">REF</text>
                      <text x="18" y="94" class="variant-legend">ALT</text>
                      <line x1="40" y1="40" x2="220" y2="40" class="variant-track variant-ref"/>
                      <rect x="80" y="32" width="80" height="16" rx="4" fill="#fff" stroke="var(--brand-600)" stroke-dasharray="6 4"/>
                      <text x="118" y="42" text-anchor="middle" dominant-baseline="middle" class="variant-label">DEL</text>
                      <line x1="40" y1="90" x2="220" y2="90" class="variant-track variant-alt"/>
                      <rect x="80" y="84" width="40" height="12" rx="3" class="variant-accent"/>
                      <text x="100" y="90" text-anchor="middle" dominant-baseline="middle" class="variant-label">INS</text>
                    </svg>
                    <figcaption class="fw-semibold"> Complex Indels</figcaption>
                  </figure>
                </div>
              </div>

              <!-- Deletion (SV) -->
              <div class="col-12 col-sm-6 col-lg-4 variant-card">
                <div class="p-1 border rounded-3 h-100">
                  <figure class="text-center">
                    <svg class="variant-icon" viewBox="0 0 240 130" role="img" aria-labelledby="svdelTitle svdelDesc">
                      <title id="svdelTitle">Deletion </title>
                      <desc id="svdelDesc">Segment marked in REF, removed in ALT</desc>
                      <text x="18" y="44" class="variant-legend">REF</text>
                      <text x="38" y="94" class="variant-legend">ALT</text>
                      <!-- REF track with dashed-marked region to be deleted -->
                      <line x1="40" y1="40" x2="220" y2="40" class="variant-track variant-ref"/>
                      <rect x="70" y="32" width="100" height="16" rx="4" fill="#fff" stroke="var(--brand-600)" stroke-dasharray="6 4"/>
                      <!-- connectors from REF deletion edges to a single ALT center point -->
                      <line x1="70" y1="47" x2="120" y2="88" stroke="var(--brand-600)" stroke-width="1"/>
                      <line x1="170" y1="47" x2="120" y2="88" stroke="var(--brand-600)" stroke-width="1"/>
                      <!-- ALT track with omitted (deleted) segment -->
                      <line x1="60" y1="90" x2="180" y2="90" class="variant-track variant-alt"/>
                      <!-- <line x1="40" y1="90" x2="70" y2="90" class="variant-track variant-alt"/> -->
                      <!-- <line x1="170" y1="90" x2="220" y2="90" class="variant-track variant-alt"/> -->
                    </svg>
                    <figcaption class=" fw-semibold">Deletion</figcaption>
                  </figure>
                </div>
              </div>

              <!-- Tandem Duplication (SV) -->
              <div class="col-12 col-sm-6 col-lg-4 variant-card">
                <div class="p-1 border rounded-3 h-100">
                  <figure class="text-center">
                    <svg class="variant-icon" viewBox="0 0 240 130" role="img" aria-labelledby="dupTitle dupDesc">
                      <title id="dupTitle">Tandem Duplication (SV)</title>
                      <desc id="dupDesc">Segment duplicated adjacent to itself</desc>
                      <text x="18" y="44" class="variant-legend">REF</text>
                      <text x="18" y="94" class="variant-legend">ALT</text>
                      <line x1="40" y1="40" x2="220" y2="40" class="variant-track variant-ref"/>
                      <rect x="70" y="32" width="60" height="16" rx="4" class="variant-neutral"/>
                      <line x1="40" y1="90" x2="220" y2="90" class="variant-track variant-alt"/>
                      <rect x="70" y="82" width="60" height="16" rx="4" class="variant-neutral"/>
                      <rect x="130" y="82" width="60" height="16" rx="4" class="variant-accent"/>
                      <text x="162" y="76" text-anchor="middle" class="variant-label">DUP</text>
                    </svg>
                    <figcaption class="fw-semibold">Tandem duplication</figcaption>
                  </figure>
                </div>
              </div>

              <!-- CNV (gain) equal-size copies -->
              <div class="col-12 col-sm-6 col-lg-4 variant-card">
                <div class="p-1 border rounded-3 h-100">
                  <figure class="text-center">
                    <svg class="variant-icon" viewBox="0 0 240 130" role="img" aria-labelledby="cnvTitle cnvDesc">
                      <title id="cnvTitle">CNV (gain)</title>
                      <desc id="cnvDesc">Copy number increased with equal-size copies</desc>
                      <text x="18" y="44" class="variant-legend">REF</text>
                      <text x="18" y="94" class="variant-legend">ALT</text>
                      <line x1="40" y1="40" x2="220" y2="40" class="variant-track variant-ref"/>
                      <rect x="70" y="32" width="60" height="16" rx="4" class="variant-neutral"/>
                      <line x1="40" y1="90" x2="220" y2="90" class="variant-track variant-alt"/>
                      <rect x="70" y="82" width="60" height="16" rx="4" class="variant-accent"/>
                      <rect x="70" y="64" width="60" height="16" rx="4" class="variant-accent"/>
                      <!-- <text x="100" y="62" text-anchor="middle" class="variant-label">×3</text> -->
                    </svg>
                    <figcaption class=" fw-semibold">CNV (gain)</figcaption>
                  </figure>
                </div>
              </div>

              <!-- Inversion (SV) -->
              <div class="col-12 col-sm-6 col-lg-4 variant-card">
                <div class="p-1 border rounded-3 h-100">
                  <figure class="text-center">
                    <svg class="variant-icon" viewBox="0 0 240 130" role="img" aria-labelledby="invTitle invDesc">
                      <title id="invTitle">Inversion (SV)</title>
                      <desc id="invDesc">Orientation of segment reversed</desc>
                      <text x="18" y="44" class="variant-legend">REF</text>
                      <text x="18" y="94" class="variant-legend">ALT</text>
                      <line x1="40" y1="40" x2="220" y2="40" class="variant-track variant-ref"/>
                      <rect x="70" y="32" width="100" height="16" rx="4" class="variant-neutral"/>
                      <polygon points="120,35 130,40 120,45" fill="#94a3b8"/>
                      <line x1="40" y1="90" x2="220" y2="90" class="variant-track variant-alt"/>
                      <rect x="70" y="82" width="100" height="16" rx="4" class="variant-accent"/>
                      <polygon points="120,85 110,90 120,95" fill="var(--brand-600)"/>
                    </svg>
                    <figcaption class=" fw-semibold">Inversion</figcaption>
                  </figure>
                </div>
              </div>

              <!-- Translocation (SV) simplified: chrA → chrB -->
              <div class="col-12 col-sm-6 col-lg-4 variant-card">
                <div class="p-1 border rounded-3 h-100">
                  <figure class="text-center">
                    <svg class="variant-icon" viewBox="0 0 240 130" role="img" aria-labelledby="traTitle traDesc">
                      <title id="traTitle">Translocation (SV)</title>
                      <desc id="traDesc">Segment moves from chrA (REF) to chrB (ALT)</desc>
                      <defs>
                        <marker id="arrowSimple" markerWidth="8" markerHeight="8" refX="5" refY="3" orient="auto" markerUnits="strokeWidth">
                          <path d="M0,0 L0,6 L6,3 z" fill="var(--brand-600)"/>
                        </marker>
                      </defs>
                      <text x="14" y="44" class="variant-legend">chrA</text>
                      <text x="14" y="94" class="variant-legend">chrB</text>
                      <line x1="40" y1="40" x2="220" y2="40" class="variant-track variant-ref"/>
                      <rect x="80" y="32" width="40" height="16" rx="3" class="variant-neutral"/>
                      <line x1="40" y1="90" x2="220" y2="90" class="variant-track variant-alt"/>
                      <rect x="150" y="82" width="40" height="16" rx="3" class="variant-accent"/>
                      <path d="M100,48 C100,66 110,74 150,82" stroke="var(--brand-600)" stroke-width="1.5" fill="none" marker-end="url(#arrowSimple)"/>
                    </svg>
                    <figcaption class="fw-semibold">Translocation</figcaption>
                  </figure>
                </div>
              </div>
            <div class="col-12 col-sm-6 col-lg-4 variant-card">
              <div class="p-1 border rounded-3 h-100">
              <figure id="ascna-80" class="text-center">
                  <svg class="variant-icon" viewBox="0 0 240 130" role="img" aria-labelledby="traTitle traDesc">
                  <title id="traTitle">Allele specific CNA</title>


                      <text x="14" y="34" class="variant-legend">hap1</text>
                      <text x="64" y="44" class="variant-legend">hap2</text>

                   <line x1="0" y1="40" x2="50" y2="40" class="segment-track segment-track-hap1"/>
                   <line x1="0" y1="70" x2="50" y2="70" class="segment-track segment-track-hap1"/>

                   <line x1="60" y1="50" x2="100" y2="50" class="segment-track segment-track-hap2"/>
                   <line x1="60" y1="60" x2="100" y2="60" class="segment-track segment-track-hap2"/>

                   <line x1="105" y1="45" x2="120" y2="45" class="segment-track segment-track-hap2"/>
                   <line x1="105" y1="65" x2="120" y2="65" class="segment-track segment-track-hap2"/>

                   <line x1="125" y1="40" x2="145" y2="40" class="segment-track segment-track-hap1"/>
                   <line x1="125" y1="70" x2="145" y2="70" class="segment-track segment-track-hap1"/>

                   <line x1="150" y1="50" x2="170" y2="50" class="segment-track segment-track-hap1"/>
                   <line x1="150" y1="52" x2="170" y2="52" class="segment-track segment-track-hap2"/>

                   <line x1="175" y1="40" x2="250" y2="40" class="segment-track segment-track-hap2 "/>
                   <line x1="175" y1="65" x2="250" y2="65" class="segment-track segment-track-hap2"/>
                   

                  </svg>
                <figcaption class="fw-semibold">Allele specific CNAs</figcaption>
              </figure>


            
              </div>
            </div>

            </div>

          </div>
        </section>

        <section id="install" class="anchor-offset">
            <h3 class="mb-3 mt-5"><i class="bi bi-download me-2"></i>Install</h3>
            <div class="code-wrap">
              <pre class="terminal">$ pip3 install -r requirements.txt</pre>
            </div>
        </section>

        <section id="usage" class="anchor-offset">
          <h3 class="mb-3 mt-5"><i class="bi bi-play me-2"></i>Usage</h3>

          <ul class="nav nav-tabs" id="simTabs" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="tab-snv" data-bs-toggle="tab" data-bs-target="#pane-snv" type="button" role="tab" aria-controls="pane-snv" aria-selected="true">
                SNVs / Indels
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="tab-sv" data-bs-toggle="tab" data-bs-target="#pane-sv" type="button" role="tab" aria-controls="pane-sv" aria-selected="false">
                SVs / CNVs
              </button>
            </li>
          </ul>
          <div class="tab-content border-start border-end border-bottom p-3 rounded-bottom" id="simTabsContent">
            <!-- SNV/Indel TAB -->
            <div class="tab-pane fade show active" id="pane-snv" role="tabpanel" aria-labelledby="tab-snv" tabindex="0">
              <h5 class="mb-3"><b>Step&nbsp;1: Create a simulation config</b></h5>
              This first step consists on the generation of a config file (tabulated) with all the SNV/Indels to be simulated.
              <p>Note that you can control several parameters.</p>
              <p>In order to execute this script:</p>

              <div class="terminal mt-2 mb-2">$ python3 scripts/generate_snv_indels_config.py </div>

              <h6 class="mt-4">Parameters:</h6>
              <div class="row">
                <div class="col-md-6">
                  <dl class="row small mb-0">
                    <dt class="col-4"><code>-i, --indir</code></dt>
                    <dd class="col-8">Directory with BAMs (one sample per BAM). </dd>

                    <dt class="col-4"><code>-l, --list</code></dt>
                    <dd class="col-8">Text file: one absolute BAM path per line. </dd>

                    <dt class="col-4"><code>-b, --bed</code></dt>
                    <dd class="col-8">ROI BED file. <span class="badge text-bg-primary">required</span></dd>

                    <dt class="col-4"><code>-g, --genome</code></dt>
                    <dd class="col-8">Reference genome FASTA. <span class="badge text-bg-primary">required</span></dd>

                    <dt class="col-4"><code>--num_variants</code></dt>
                    <dd class="col-8">Total variants to simulate. <span class="badge text-bg-primary">required</span></dd>

                    <dt class="col-4"><code>--output</code></dt>
                    <dd class="col-8">Path to write TSV (e.g., <code>variants_config.tsv</code>). <span class="badge text-bg-primary">required</span></dd>

                    <dt class="col-4"><code>--proportions</code></dt>
                    <dd class="col-8">Comma-separated clone fractions (e.g., <code>0.7,0.2,0.1</code>); should sum ≈ 1. <span class="badge text-bg-primary">required</span></dd>
                  </dl>
                </div>
                <div class="col-md-6">
                  <dl class="row small mb-0">
                    <dt class="col-4"><code>--insertion_rate</code></dt>
                    <dd class="col-8">Proportion of insertions (default: <code>0.45</code>).</dd>

                    <dt class="col-4"><code>--deletion_rate</code></dt>
                    <dd class="col-8">Proportion of deletions (default: <code>0.45</code>).</dd>

                    <dt class="col-4"><code>--delins_rate</code></dt>
                    <dd class="col-8">Proportion of delins (default: <code>0.10</code>).</dd>

                    <dt class="col-4"><code>--hom_rate</code></dt>
                    <dd class="col-8">Fraction of homozygous variants (default: <code>0.10</code>).</dd>

                    <dt class="col-4"><code>--autosomes</code></dt>
                    <dd class="col-8">If set, restrict to autosomes.</dd>

                    <dt class="col-4"><code>--chromosome</code></dt>
                    <dd class="col-8">Limit variant placement to a specific chromosome (e.g., <code>chr12</code>).</dd>

                  </dl>
                </div>
              </div>

              <div class="alert alert-info small mb-3" style="padding:5px;">
                <i class="bi bi-info-circle me-1" ></i>
                <b>Tip:</b> Exactly one of <code>--indir</code> or <code>--list</code> must be provided.
                <code>--proportions</code> controls clonal mixture used to derive per-variant VAFs.
              </div>


            <h5 class="mt-5 mb-2">Example of a config output file:</h5>
              <div class="code-wrap mt-4 mb-2">
  <pre class="mb-0"><code id="snv-code" class="language-text">SAMPLE CHR POS REF ALT VAF TYPE CLONE
/home/user/input/sample1.bam	chr9	108358932	ACAGTGGGTATGTAGAATAAACAAGAAATTTCTCA	ATGGGCAATT	0.4621	delins	clone1
/home/user/input/sample2.bam	chr1	228475638	CTTCTGCCACCCTCACAGTGACT	CTTCTGTTCTCCTGCTTG	0.5516	delins	clone1</code></pre>
              </div>
            </div>

            <!-- SV/CNV TAB -->
            <div class="tab-pane fade" id="pane-sv" role="tabpanel" aria-labelledby="tab-sv" tabindex="0">
              <h5 class="mb-3"><b>Step&nbsp;1: Create a simulation config</h5></b>
              <p>For SV/CNV we also need to create a config file.</p>
              <p>In order to execute this script:</p>

              <div class="code-wrap mb-3">
                <div class="terminal mt-2 mb-2">$ python3 scripts/generate_sv_config.py </div>
              </div>

              <div class="alert alert-info small mt-4 mb-3" style="padding:5px;">
                <i class="bi bi-info-circle me-1"></i>
                <b>Rates</b> are proportions (0–1) for each SV class. If providing
                <code>--balanced_translocation_rate</code>/<code>--whole_arm_rate</code>, they override how <code>--translocation_rate</code> is split.
              </div>

              <h6 class="mt-4">Parameters:</h6>
              <div class="row">
                <div class="col-md-6">
                  <dl class="row small mb-0">
                    <dt class="col-5"><code>-i, --indir</code></dt>
                    <dd class="col-7">Directory with BAMs. <span class="badge text-bg-primary">required</span></dd>

                    <dt class="col-5"><code>-b, --bed</code></dt>
                    <dd class="col-7">ROI BED file. <span class="badge text-bg-primary">required</span></dd>

                    <dt class="col-5"><code>--num_variants</code></dt>
                    <dd class="col-7">Total SV events to simulate. <span class="badge text-bg-primary">required</span></dd>

                    <dt class="col-5"><code>--proportions</code></dt>
                    <dd class="col-7">Clone fractions (e.g., <code>0.8,0.2</code>); should sum ≈ 1. <span class="badge text-bg-primary">required</span></dd>

                    <dt class="col-5"><code>--genome_version</code></dt>
                    <dd class="col-7">Reference tag for placement (choices: <code>hg19</code>, <code>hg38</code>; default <code>hg19</code>).</dd>

                    <dt class="col-5"><code>--seed</code></dt>
                    <dd class="col-7">Random seed for reproducibility (optional).</dd>

                    <dt class="col-5"><code>--insertion_rate</code></dt>
                    <dd class="col-7">Proportion of insertions (default <code>0.20</code>).</dd>

                    <dt class="col-5"><code>--deletion_rate</code></dt>
                    <dd class="col-7">Proportion of deletions (default <code>0.20</code>).</dd>

                    <dt class="col-5"><code>--duplication_rate</code></dt>
                    <dd class="col-7">Proportion of duplications (default <code>0.20</code>).</dd>

                    <dt class="col-5"><code>--inversion_rate</code></dt>
                    <dd class="col-7">Proportion of inversions (default <code>0.20</code>).</dd>

                    <dt class="col-5"><code>--translocation_rate</code></dt>
                    <dd class="col-7">Total proportion for translocations (default <code>0.20</code>).</dd>

                    <dt class="col-5"><code>--balanced_translocation_rate</code></dt>
                    <dd class="col-7">Override portion of translocations that are balanced (optional).</dd>
                  </dl>
                </div>
                <div class="col-md-6">
                  <dl class="row small mb-0">
                    <dt class="col-5"><code>--whole_arm_rate</code></dt>
                    <dd class="col-7">Override portion that are whole-arm/single-junction (optional).</dd>

                    <dt class="col-5"><code>--minsize</code>/<code>--maxsize</code></dt>
                    <dd class="col-7">Size bounds for deletions/duplications/inversions (bp).</dd>

                    <dt class="col-5"><code>--minins</code>/<code>--maxins</code></dt>
                    <dd class="col-7">Inserted sequence length bounds (bp).</dd>

                    <dt class="col-5"><code>--mindist</code></dt>
                    <dd class="col-7">Minimum inter-breakpoint distance for translocations (bp).</dd>

                    <dt class="col-5"><code>--ntmin</code>/<code>--ntmax</code></dt>
                    <dd class="col-7">Range for templated/inserted nucleotides.</dd>

                    <dt class="col-5"><code>--chromosome</code></dt>
                    <dd class="col-7">Restrict events to a specific chromosome (optional).</dd>

                    <dt class="col-5"><code>--autosomes</code></dt>
                    <dd class="col-7">If set, restrict to autosomes.</dd>

                    <dt class="col-5"><code>--chromfile</code></dt>
                    <dd class="col-7">Chromosome sizes file (if required by placement logic).</dd>

                    <dt class="col-5"><code>--mechanism</code></dt>
                    <dd class="col-7">Placement strategy (e.g., <code>random</code>).</dd>
                  </dl>
                </div>
              </div>

            <h5 class="mt-5 mb-2">Example of a config file for CNV/SV</h5>
            <div class="code-wrap mb-2">
<pre class="mb-0"><code id="cnv-code" class="language-text">SAMPLE	CHR1	START1	END1	CHR2	START2	END2	SVTYPE	SVID	PLOIDY	SV_MECHANISM	NTINS	HOMOLOGY	CLONE	CLONAL_PROPORTION	ADDITIONAL_INFO
/home/user/input/sample1.bam	chr6	7559857	7572150	.	.	.	DEL	DSP_del	1	random	GAATTTTAGACTTCGGGGA	.	clone1	1	.
/home/user/input/sample2.bam	chr6	7583260	7584260	chr3	38639314	38640448	TRA	DSP_del	1	random	GAATTTTAGACTTCGGGGA	.	clone1	1	.</code></pre>
            </div>

            </div>

          <!-- Step 2 (common) -->
          <h5 class="mt-4"><b>Step&nbsp;2: Run bamulator</b></h5>
          <div class="code-wrap">
          <pre class="terminal">$ bamulator \
  --variants variants_config.tsv \
  --reference /path/to/ref.fasta \
  --threads 8 \
  --suffix .simulated \
  --output /path/to/outdir
          </pre>
          <div class="mt-3 small text-secondary">
            Outputs are named <code>&lt;sample&gt;&lt;suffix&gt;.bam</code> (default suffix: <code>.simulated</code>).
            To enable phasing, also pass <code>--input_vcf_list</code>, <code>--genome_version</code>, <code>--map_dir</code>, and <code>--ref_dir</code>.
          </div>
        </section>


        <!-- Phasing
        <section id="phasing" class="anchor-offset mb-5">
          <div class="section-card p-4 p-md-5">
            <h2 class="mb-3"><i class="bi bi-diagram-3 me-2"></i>Phasing (optional)</h2>
            <p>Provide <code>--input_vcf_list</code> plus:</p>
            <ul class="mb-3">
              <li><code>--genome_version</code> (e.g., <code>hg38</code>, <code>hg19</code>)</li>
              <li><code>--map_dir</code> with PLINK <code>.map</code></li>
              <li><code>--ref_dir</code> with <code>.bref3</code></li>
            </ul>
            <div class="alert alert-info border-0" role="alert">
              <i class="bi bi-info-circle me-2"></i>Phased VCFs are written to <code>--output</code>.
            </div>
          </div>
        </section> -->

        <!-- Visuals -->

        <!-- Features -->


        <!-- Limitations -->
        <!-- <section id="limitations" class="anchor-offset mb-5">
          <div class="section-card p-4 p-md-5">
            <h2 class="mb-3"><i class="bi bi-exclamation-triangle me-2"></i>Limitations</h2>
            <ul class="list-group list-group-flush">
              <li class="list-group-item">No SVs requiring sequenced breakpoints</li>
              <li class="list-group-item">No somatic variant simulation</li>
              <li class="list-group-item">Copy-number changes &gt; 3 not supported; no homo/hemizygous deletions</li>
            </ul>
          </div>
        </section> -->

        <!-- Helper script -->
        <!-- <section id="helper" class="anchor-offset mb-5">
          <div class="section-card p-4 p-md-5">
            <h2 class="mb-3"><i class="bi bi-tools me-2"></i>Helper script</h2>
            <p>Generate CNV configs:</p>
            <div class="code-wrap">
              <button class="btn btn-sm btn-secondary copy-btn" data-copy="#helper-code"><i class="bi bi-clipboard"></i> Copy</button>
<pre class="mb-0"><code id="helper-code" class="language-bash">$ python3 scripts/generate_cnv_config.py \
  --indir /path/to/bam_dir \
  -c &lt;del|dup&gt; \
  -b /path/to/gene_panel.bed \
  --mode &lt;single|multiple&gt; &gt; variants.txt</code></pre>
            </div>
          </div>
        </section> -->

        <footer class="py-4 text-center">

        </footer>
      </section>
    </div>
  </main>

  <!-- Back to top button -->
  <button id="toTop" type="button" class="btn btn-primary position-fixed" style="right: 20px; bottom: 24px; display:none" aria-label="Back to top">
    <i class="bi bi-arrow-up"></i>
  </button>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
  <script>
    // Copy buttons
    document.querySelectorAll('[data-copy]').forEach(btn => {
      btn.addEventListener('click', async () => {
        const target = document.querySelector(btn.getAttribute('data-copy'));
        const text = target ? target.innerText : '';
        try {
          await navigator.clipboard.writeText(text);
          const icon = btn.querySelector('i');
          const old = icon.className;
          icon.className = 'bi bi-clipboard-check';
          btn.classList.add('btn-success');
          setTimeout(() => { icon.className = old; btn.classList.remove('btn-success'); }, 1200);
        } catch(e) {
          alert('Copy failed. Select the text and copy manually.');
        }
      });
    });
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();
    // Back to top
    const toTop = document.getElementById('toTop');
    window.addEventListener('scroll', () => {
      toTop.style.display = window.scrollY > 500 ? 'inline-flex' : 'none';
    });
    toTop.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
  </script>
  <script>
    (function(){
      const el = document.getElementById('badges');
      if(!el) return;
      const repo = el.dataset.repo || 'YOURUSER/YOURREPO';
      const docsUrl = el.dataset.docsUrl || (window.location.origin + window.location.pathname);
      const starBadge = document.getElementById('star-badge');
      const dlBadge = document.getElementById('downloads-badge');
      const docsBadge = document.getElementById('docs-badge');
      const starLink = document.getElementById('star-link');
      const dlLink = document.getElementById('downloads-link');
      const docsLink = document.getElementById('docs-link');
      starBadge.src = `https://img.shields.io/github/stars/${repo}?label=Stars&style=flat`;
      dlBadge.src   = `https://img.shields.io/github/downloads/${repo}/total?label=Downloads&style=flat`;
      docsBadge.src = `https://img.shields.io/badge/Docs-Website-10b981`;
      starLink.href = `https://github.com/${repo}/stargazers`;
      dlLink.href   = `https://github.com/${repo}/releases`;
      docsLink.href = docsUrl;
    })();
  </script>

</body>
</html>
